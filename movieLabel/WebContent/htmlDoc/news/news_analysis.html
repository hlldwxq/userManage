<!DOCTYPE html>
<html>
<head >
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../public/css/bootstrap.css">
    <!--<script type="text/javascript" src="../js/jquery.js"></script>
    <script type="text/javascript" src="../js/bootstrap.js"></script>-->
    <!-- 本地bootstrap文件，最终切换为这个 -->
    <!-- <link href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">以下为网络的bootstrap链接，做测试用 -->

    <link href="../public/css/title.css" rel="stylesheet">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../public/js/echarts.js"></script>
    <title>节目播出形式分析指导</title>
</head>
<body>
<nav class="navbar navbar-fixed-top navbar-inverse">
	<div class="container">
		<div class="navbar-header">
			<button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#" style="font-size: 20px;font-family: 微软雅黑">智能标签</a>
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				<li>
					<a href="#">新闻</a>
					<ul>
						<li><a href="../news/news_arrange.html">新闻集合编排</a></li>
						<li><a href="../news/news_analysis.html">节目播出形式分析指导</a></li>
						<li><a href="../news/news_feature.html">花絮精彩片段生成</a></li>
						<li><a href="../news/news_hotTopicSelect.html">新闻素材筛选</a></li>
						<li><a href="../news/news_usercondition.html">用户舆情分析</a></li>
					</ul>
				</li>
				<li><a href="../movie/movie.html">电影</a>
					<ul>
						<li><a href="../movie/recommend.html">电影推荐系统</a></li>
						<li><a href="../movie/screen.html">剧本筛选</a></li>
						<li><a href="../movie/investment.html">投资决策</a></li>
						<li><a href="../movie/creator.html">主创推荐</a></li>
						<li><a href="../movie/theme.html">题材推荐</a></li>
						<li><a href="../movie/trailer.html">预告拍摄</a></li>
					</ul>
				</li>
				<li><a href="../entertainment/variety.html">娱乐</a>
					<ul>
						<li><a href="../entertainment/guest_theme_recommend.html">嘉宾与主题推荐</a></li>
						<li><a href="../entertainment/program_schedule_arrangement.html">节目档期安排</a></li>
						<li><a href="../entertainment/content_arrangement.html">节目内容安排</a></li>
						<li><a href="../entertainment/user_data.html">用户信息参考</a></li>
						<li><a href="../entertainment/advertiser_recommend.html">广告商选择</a></li>
					</ul>
				</li>
				<li><a href="../tv/tv.html">电视剧</a>
					<ul>
						<li><a href="../tv/recommend.html">电影推荐系统</a></li>
						<li><a href="../tv/screen.html">剧本筛选</a></li>
						<li><a href="../tv/investment.html">投资决策</a></li>
						<li><a href="../tv/creator.html">主创推荐</a></li>
						<li><a href="../tv/theme.html">题材推荐</a></li>
						<li><a href="../tv/trailer.html">预告拍摄</a></li>
					</ul>
				</li>
				<li><a href="feature.html">专题片</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="#">注册</a>
				</li>
				<li>
					<a href="#">登录</a>
				</li>
			</ul>
			<form class="navbar-form navbar-right">
				<div class="form-group">
					<input class="form-control" placeholder="搜您想要的..." type="text">
				</div>
				<button class="btn btn-success" type="submit">搜索</button>
			</form>
		</div>
	</div>
</nav>
<div class="container" style="margin-top: 60px;">
	<div class="row">
		<h2 style="text-align: center">节目播出形式分析指导</h2>
	</div>
</div>
<div class="container" >
	<div class="row">
	  	<div class="col-xs-2"></div>
	  	<div class="col-xs-8">
		<ul id="myTab"  class="nav nav-tabs" >
			<li class="active" >
				<a href="#outerdiv2" data-toggle="tab" aria-expanded="true">用户收视习惯</a>
			</li>
			<li ><a href="#outerdiv1" data-toggle="tab" aria-expanded="false">收 视 率</a></li>
		</ul>
		<div class="tab-content">
			<div id="outerdiv2"  class="tab-pane active">
				<div style="margin-left:10%;width:80% ;margin-top:4%;">
				  	<h4 style="text-align: center">播 出 时 间</h4>
					<div style="height:200px;">这里插入可视化图片</div>
				</div>
      			<div class="row">
      	  			<div class="col-sm-1 "></div>
					<div class="col-sm-4 ">
						<h5 style="text-align: center">不同收视习惯用户年龄分布</h5>
						<div id="ageHistContainer" style="width: 250px; height: 400px"></div>
						<script type="text/javascript">
							var ageHistChart=echarts.init(document.getElementById("ageHistContainer"));

							var data=[];
							//TODO 根据真实数据计算出相应的条形图的位置
							var ageHistoption = {
								/*title:{
									show:true,
									text:"不同收视习惯年龄用户分布图"
								},*/
								tooltip : {
									trigger: 'axis',
									axisPointer : {            // 坐标轴指示器，坐标轴触发有效
										type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
									},
									formatter: function (params) {
										var tar = params[1];
										return tar.name + '<br/>' + tar.seriesName + ' : ' + tar.value+'%';
									}
								},
								legend: {
									data:['首播','重播','互联网']
								},
								grid: {
									left: '3%',
									right: '4%',
									bottom: '3%',
									containLabel: true
								},
								toolbox:{
									show:true,
									feature: {
										saveAsImage: {
											pixelRatio: 2
										}
									}
								},
								xAxis : [
									{
										type : 'category',
										data:['全部','首播','重播','互联网']
									}
								],
								yAxis : [
									{
										name:'年龄分布',
										type : 'value'
									}
								],
								series : [
									{
										name:'全部',
										type:'bar',
										stack: '分布',
										width:'20%',
										data:[0,20,30,10],
										itemStyle:{
											normal:{
												color:"#FFF"
											}
										}
									},
									{
										name:'占比',
										type:'bar',
										stack: '分布',
										width:'20%',
										data:[100,10,50,70]
									}
								]
							}
							ageHistChart.setOption(ageHistoption);
							window.onresize=ageHistChart.resize;
			</script>
					</div>
					<div class="col-sm-1 "></div>
					<div class="col-sm-4 ">
						<h5 style="text-align: center">用户收视习惯</h5>
						<div id="ageRadarContainer" style="width:250px ;height:400px;"></div>
						<script type="text/javascript">
							//TODO 获取数据
							var data=[];
							//TODO 获取数据
							var ageRadarChart=echarts.init(document.getElementById("ageRadarContainer"));
							ageRadaroption = {
								/*title: {
									text: '用户年龄分布雷达图',
									x:'left'
								},*/
								tooltip: {
									trigger:'item'
								},
								legend: {
									data: ['用户年龄分布(单位:%)']
								},
								radar: {
									indicator: [
										{ name: '0~15岁', max: 100},
										{ name: '16~25岁', max: 100},
										{ name: '26~35岁', max: 100},
										{ name: '36~45岁', max: 100},
										{ name: '45岁以上', max: 100}
									],
									axisTick:{
										show:true
									},
									axisLabel:{
										show:true
									}
								},
								series: [
									{
										name: '用户年龄分布(单位:%)',
										type: 'radar',
										areaStyle: {normal: {}},
										data : [
											{
												value : [40,20,10,30,50],
												name: '各年龄阶段所占百分比'
											}
										]
									}],
								animationDuration:50
							};
							window.onresize=ageRadarChart.resize;
							ageRadarChart.setOption(ageRadaroption);
						</script>
					</div>
				</div>
				<div class="col-sm-offset-4 col-sm-8">
					<button type="submit" class="btn btn-info btn-lg">保存</button>
				</div>
      			</div>
			  	<div id="outerdiv1" class="tab-pane container" >
				  	<form action="" style="margin-left:10%;width:60%;margin-top:20px;" id="form1">
						<label>时间:</label>
							<select name="years" id="years">
							</select>
							<label >年</label>
							<select name="months" id="months">
							</select>
							<select name="days" id="days">
							</select>
							<label>主题：</label>
							<select name="theme" id="theme">
								<option>全部</option>
							</select>
					</form>
						<div class="form-group" style="margin-left:40%">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" class="btn btn-info">确定</button>
						</div>
					</div>
					<div style="width:600px;">
						<div id="watchRateContainer" style="width: 600px ; height: 300px"></div>
						<script type="text/javascript">
							var watchRateChart=echarts.init(document.getElementById("watchRateContainer"));
							//
							var data=[];
							var names=['湖南卫视高清','湖南卫视','公共频道','新闻综合'];
							var citys=['长沙市','XX市','XX市','XX市','XX市'];
							//TODO 请求真实数据
							var option = {
								tooltip : {
									trigger: 'item',
									axisPointer : {
										type: 'line'
									}
								},
								legend: {
									data:names
								},
								grid: {
									left: '3%',
									right: '4%',
									bottom: '3%',
									containLabel: true
								},
								toolbox:{
									show:true,
									feature: {
										saveAsImage: {
											pixelRatio: 2
										},
										magicType:{show:true,type:['line','bar']}
									}
								},
								xAxis : [
									{
										type : 'category',
										data:citys,
										boundaryGap: false
									}
								],
								yAxis : [
									{
										name:'收视率',
										type : 'value',
										axisLabel: {
											formatter: '{value} %'
										}
									}
								],
								series : [
									{
										name:names[0],
										type:'line',
										data:[0.2,0.1,0.4,0.5,0.2],
										markPoint: {
											data: [
												{type: 'max', name: '最大值'},
												{type: 'min', name: '最小值'}
											]
										},
										markLine: {
											data: [
												{type: 'average', name: '平均值'}
											]
										}
									},
									{
										name:names[1],
										type:'line',
										data:[0.2,0.1,0.4,0.5,0.2],
										markPoint: {
											data: [
												{type: 'max', name: '最大值'},
												{type: 'min', name: '最小值'}
											]
										},
										markLine: {
											data: [
												{type: 'average', name: '平均值'}
											]
										}
									},
									{
										name:names[2],
										type:'line',
										data:[0.1,0.01,0.4,0.5,0.8],
										markPoint: {
											data: [
												{type: 'max', name: '最大值'},
												{type: 'min', name: '最小值'}
											]
										},
										markLine: {
											data: [
												{type: 'average', name: '平均值'}
											]
										}
									},
									{
										name:names[3],
										type:'line',
										data:[0.2,0.2,0.3,0.1,0.6],
										markPoint: {
											data: [
												{type: 'max', name: '最大值'},
												{type: 'min', name: '最小值'}
											]
										},
										markLine: {
											data: [
												{type: 'average', name: '平均值'}
											]
										}
									},
								]
							}
							watchRateChart.setOption(option);
							window.onresize=watchRateChart.resize;
						</script>
						<div class="col-sm-offset-4 col-sm-12" style="margin: 20px 0">
							<button type="submit" class="btn btn-info btn-lg">保存</button>
						</div>
					</div>
      			</div>
      		</div>
      	</div>
		<div class="col-xs-3"></div>
	</div>
</div>
  <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
      <p>&copy; 2017 中国传媒大学智能标签实验室, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
  </footer>
<script>
		var years=document.getElementById("years");
		for(var i=2017;i>1990;i--) {
			years.add(new Option(i,i));
		}
		var months=document.getElementById("months");
		for(var i=1;i<13;i++) {
			months.add(new Option(i,i));
		}
		var labelone=document.createElement("label");
		labelone.innerText="月  ";
		insertAfter(labelone,months);
		var days=document.getElementById("days");
		for(var i=1;i<32;i++) {
			days.add(new Option(i,i));
		}
		var labeltwo=document.createElement("label");
		labeltwo.innerText="日";
		insertAfter(labeltwo,days);
		function insertAfter(newElement, targetElement){
			var parent = targetElement.parentNode;
			if (parent.lastChild == targetElement) {
        
				parent.appendChild(newElement);
			} else {
				parent.insertBefore(newElement, targetElement.nextSibling);
        
			}
		}
</script>
</body>
</html>