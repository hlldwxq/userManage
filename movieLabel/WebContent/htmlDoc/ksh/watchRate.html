<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>收视率折线图</title>
</head>
<body>
<div id="watchRateContainer" style="width: 100%; height: 500px"></div>
<script type="text/javascript" src="../public/js/echarts.js"></script>
<script type="text/javascript">
    var watchRateChart=echarts.init(document.getElementById("watchRateContainer"));
    //
    var data=[];
    var names=['湖南卫视高清','湖南卫视','公共频道','新闻综合'];
    var citys=['长沙市','XX市','XX市','XX市','XX市'];
    //TODO 请求真实数据
    var option = {
        tooltip : {
            trigger: 'item',
            axisPointer : {
                type: 'line'
            }
        },
        legend: {
            data:names
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        toolbox:{
            show:true,
            feature: {
                saveAsImage: {
                    pixelRatio: 2
                },
                magicType:{show:true,type:['line','bar']}
            }
        },
        xAxis : [
            {
                type : 'category',
                data:citys,
                boundaryGap: false
            }
        ],
        yAxis : [
            {
                name:'收视率',
                type : 'value',
                axisLabel: {
                    formatter: '{value} %'
                }
            }
        ],
        series : [
            {
                name:names[0],
                type:'line',
                data:[0.2,0.1,0.4,0.5,0.2],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:names[1],
                type:'line',
                data:[0.2,0.1,0.4,0.5,0.2],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:names[2],
                type:'line',
                data:[0.1,0.01,0.4,0.5,0.8],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:names[3],
                type:'line',
                data:[0.2,0.2,0.3,0.1,0.6],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
        ]
    }
    watchRateChart.setOption(option);
    window.onresize=watchRateChart.resize;
</script>
</body>
</html>